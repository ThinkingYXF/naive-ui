const tradeYearRate=[4.35,4.75,4.9],pfYearRate=[2.75,3.25]; new Vue({el:"#my-app",data:function(){return {tableData:[],count:0,form:{type:"1",timeType:"1",num:"",month:"",money:"",rate:tradeYearRate[0],returnType:"1"},totalLX:"",totalM:""}},filters:{twoFilter:function(t){return parseFloat(Math.round(100* t)/ 100)}},created:function(){console.log(11)},methods:{submit:function(){this.form.money?(this.form.num|| 1!= this.form.timeType)&& (this.form.month|| 2!= this.form.timeType)?this.form.rate?(this.tableData= [],1== this.form.returnType&& this.computedTradeMoney(),2== this.form.returnType&& this.computedPFMoney()):this.$message.warning("\u8bf7\u8f93\u5165\u5e74\u5229\u7387"):this.$message.warning("\u8bf7\u8f93\u5165\u65f6\u957f"):this.$message.warning("\u8bf7\u8f93\u5165\u8d37\u6b3e\u91d1\u989d")},reset:function(){this.tableData= []},changeType:function(){this.computedNum()},changeNum:function(){this.computedNum()},computedNum:function(){var t=1== this.form.timeType?Number(this.form.num):parseFloat(this.form.month/ 12);1== this.form.type?this.form.rate= 5< t?tradeYearRate[2]:1< t?tradeYearRate[1]:tradeYearRate[0]:this.form.rate= 5< t?pfYearRate[1]:pfYearRate[0]},computedTradeMoney:function(){var t=1== this.form.timeType?12* Number(this.form.num):Number(this.form.month),e=Number(this.form.money),a=parseFloat(this.form.rate/ 100/ 12);this.count= 0,this.blTMoney(e,t,a,e)},blTMoney:function(t,e,a,o){this.count++;var r=t* a,s=o* a* Math.pow(1+ a,e)/ (Math.pow(1+ a,e)- 1)- r,t=t- s;this.tableData.push({bj:s,lx:r,total:s+ r,sy:t}),0< this.twoXS(t)?this.blTMoney(t,e,a,o):this.twoXS(t)<= 0&& this.getTotal()},computedPFMoney:function(){var t=1== this.form.timeType?12* Number(this.form.num):Number(this.form.month),e=Number(this.form.money),a=parseFloat(this.form.rate/ 100/ 12);this.count= 0,this.blMoney(e,t,a)},blMoney:function(t,e,a){this.count++;var o=t* a,r=t/ (e- this.count+ 1),t=t- r;this.tableData.push({bj:r,lx:o,total:r+ o,sy:t}),0< this.twoXS(t)?this.blMoney(t,e,a):this.twoXS(t)<= 0&& this.getTotal()},getTotal:function(){let e=0,a=0;this.tableData.forEach((t)=>{e+= t.lx,a+= t.total}),this.totalLX= e,this.totalM= a},twoXS:function(t){return parseFloat(Math.round(100* t)/ 100)}}})